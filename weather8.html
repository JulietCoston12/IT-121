<html>
  <head>
      <script
              src="https://code.jquery.com/jquery-3.7.1.min.js"
              integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
              crossorigin="anonymous"></script>
  </head>
<body>
<H3/>Daily Weather Forecast</h3>
<hr>
<form id="testform">
City: <input type="text" name="city">
  State:
  <select name="state">
      <option value="AL">Alabama</option>
      <option value="AK">Alaska</option>
      <option value="AZ">Arizona</option>
      <option value="AR">Arkansas</option>
      <option value="CA">California</option>
      <option value="CO">Colorado</option>
      <option value="CT">Connecticut</option>
      <option value="DE">Delaware</option>
      <option value="FL">Florida</option>
      <option value="GA">Georgia</option>
      <option value="HI">Hawaii</option>
      <option value="ID">Idaho</option>
      <option value="IL">Illinois</option>
      <option value="IN">Indiana</option>
      <option value="IA">Iowa</option>
      <option value="KS">Kansas</option>
      <option value="IA">Iowa</option>
      <option value="KY">Kentucky</option>
      <option value="LA">Louisiana</option>
      <option value="ME">Maine</option>
      <option value="MD">Maryland</option>
      <option value="ME">Maine</option>
      <option value="MA">Massachusetts</option>
      <option value="MI">Michigan</option>
      <option value="MN">Minnesota</option>
      <option value="MS">Mississippi</option>
      <option value="MO">Missouri</option>
      <option value="MT">Montana</option>
      <option value="NE">Nebraska</option>
      <option value="NV">Nevada</option>
      <option value="NH">New Hampshire</option>
      <option value="NJ">New Jersey</option>
      <option value="NM">New Mexico</option>
      <option value="NY">New York</option>
      <option value="NC">North Carolina</option>
      <option value="ND">North Dakota</option>
      <option value="OH">Ohio</option>
      <option value="OK">Oklahoma</option>
      <option value="OR">Oregon</option>
      <option value="PR">Puerto Rico</option>
      <option value="PW">Palau</option>
      <option value="PA">Pennsylvania</option>
      <option value="RI">Rhode Island</option>
      <option value="SC">South Carolina</option>
      <option value="SD">South Dakota</option>
      <option value="TN">Tennessee</option>
      <option value="TX">Texas</option>
      <option value="UT">Utah</option>
      <option value="VT">Vermont</option>
      <option value="VA">Virginia</option>
      <option value="WA">Washington</option>
      <option value="WV">West Virginia</option>
      <option value="WI">Wisconsin</option>
      <option value="WY">Wyoming</option>
  </select>
</form>
<button>submit</button>
<div id="forecast"></div>

<script>
// change to your API
let API_KEY = "";

// daily forecast API - https://openweathermap.org/forecast16
// geocoding API - https://openweathermap.org/api/geocoding-api

// NOTE - api docs incorrectly show examples using http instead of https

const kelvinToF = (value) => {
  var fahrenheit = (((Number(value) - 273.15)*9)/5) + 32;
  return fahrenheit.toFixed(2);
}

  const weatherForm =document.querySelector(".weatherForm");
const cityInput = document.querySelector(".cityInput");
const card = document.querySelector(".card");
const apiKey = "9afza5vpuemopj82ffu65gt9sh9v8n9s";

weatherForm.addEventListener("submit",  async event => {

  event.preventDefault();

  const city = cityInput.value;
  const url ='https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric';
  if(city){
    try{
      const weatherData = await getweatherData(cityWeather);
      displayWeatherInfo(weathercurrentData);
    }
    catch{
      console.log("error")
      displayError("Error")
    }
    
  }
  else{
    displayError("please enter a city");
  }
});

async function getWeatherData(city){
  const url =  http://api.openweathermap.org/geo/1.0/direct?q={city name},{state code},{country code}&limit={limit}&appid={API key}
  const responce = await fetch(apiurl);
  console.log(responce);
}

function displayWeatherInfo(data){

  const {name: city, main: {temp, feels_like, humidity}, weather:[{descripotion, id}]} = data;
  card.comtent ="";
  card.computedStyle.display = "flex";

  const cityDisplay = document.createElement("h1");
  const tempDisplay = document.createElement("p");
  const Display = document.createElement("p");
  const humidityDisplay = document.createElement("p");
  const descDisplay = document.createElement("p");
  const weatherEmoji = document.createElement("p");

  cityDisplay.textContent = city;
  tempDisplay.textContent = 'Temp: ${((temp - 273.15) * (9/5) + 32).toFixed(1)}Â°F';
  humidityDisplay.textContent = 'Humidity: ${humidity}%';
  descDisplay.textContent = description;
  weatherEmoji.textContent = getweatherEmoji(id);
  

  cityDisplay. classList.add("cityDisplay");
  tempDisplay.classList.add("tempDisplay");
  humidityDisplay.classList.add("humidityDisplay");
  descDisplay.classList.add("descDisplay");
  weatherEmoji.classList.add("weatherEmoji");
  
  card.appendChild(cityDisplay);
  card.appendChild(tempDisplay);
  card.appendChild(humidityDisplay);
  card.appendChild(humidityDisplay);
  card.appendChild(descDisplay);
  card.appendChild(weatherEmoji);
}
 
function getweatherEmoji(weatherId){

  switch(true){
    case (weatherId >= 200 && weatherId < 300):
      return "thurderstorm";
    case (weatherId >= 300 && weatherId < 400):
      return "rainny";
    case (weatherId >= 500 && weatherId < 600):
      return "rainny";
    case (weatherId >= 600 && weatherId < 700):
      return "snowy";
    case (weatherId >=700 && weatherId < 800):
      return "sunny";
      case (weatherId === 800):
      return "clarity";
      case (weatherId >= 801 && weatherId < 810):
      return "cloudy";
    default:
      return "Data not found";
  }
}

function displayError(message){
  
}
 


$('button').on('click', (e) => {

// your code here

// disable button to prevent double-submit
$("button").disabled = true;

});

</script>
</body>
</html>
           

      